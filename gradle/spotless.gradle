spotless {
    ratchetFrom 'origin/master'

    format 'misc', {
        target '*.gradle', '.gitattributes', '.gitignore'

        trimTrailingWhitespace()
        leadingTabsToSpaces()
        endWithNewline()
    }

    kotlin {
        ktlint()
          .setEditorConfigPath("$rootDir/.editorconfig")
    }
}

tasks.named("compileKotlin") {
    dependsOn(tasks.named("spotlessApply"))
}